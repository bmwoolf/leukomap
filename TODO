## Planned Pipeline Tasks

### âœ… Completed
- [x] Load Caron et al. scRNA-seq data into `AnnData` format
- [x] Train a latent model using scVI for clustering
- [x] Visualize embeddings with UMAP
- [x] Integrate a healthy bone marrow reference (Human Cell Atlas) to detect abnormal clusters
- [x] Perform differential expression between clusters
- [x] Run CellTypist for auto cell type labeling (with fallback mock annotations)
- [x] Implement main `analyze()` function as specified in README
- [x] Create R wrapper package for Python integration
- [x] Build modular pipeline architecture with proper error handling
- [x] Implement end-to-end analysis pipeline
- [ ] Install and configure R packages (Seurat, SingleR, Azimuth) for full annotation
- [ ] Compare auto vs manual annotations (e.g. ARI/NMI)
- [ ] Load into Cellxgene and Cirro for interactive visualization
- [ ] Run pseudotime analysis with Monocle3 and scVelo to trace leukemia progression
- [ ] Run single-cell GSEA using `GSVA`, `fgsea`, and `ssGSEA`
- [ ] Link DEGs to perturbation signatures via LINCS1000 / Enrichr
- [ ] Highlight top candidate pathways and drugs per cluster
- [ ] Wrap analysis in Nextflow with Docker/Conda for portability
- [ ] Use `nf-core` template
- [ ] Output as CSV and JSON, ready for ML and ontology integration
- [ ] Auto-generate publication-quality figures and PDF/PowerPoint summaries

### Current Focus
1. `Complete R package setup` - Install missing R dependencies for full annotation
2. `Validate annotation accuracy` - Compare auto vs manual annotations
3. `Interactive visualization` - Set up Cellxgene/Cirro integration
4. `Pseudotime analysis` - Implement trajectory analysis

### Output Specifications
- `Annotated Clusters`: Cell type labels for leukemia subtypes
- `Druggable Targets`: Genes linked to drug compounds  
- `Differential Expression`: Marker genes per cluster
- `Analysis Reports`: Comprehensive summaries and visualizations